<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SaaS Financial Model Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .active-tab { border-bottom: 4px solid #3b82f6; color: #3b82f6; }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 min-h-screen">

    <div class="max-w-6xl mx-auto py-12 px-6">
        <header class="bg-white border border-slate-200 rounded-3xl p-8 mb-8 shadow-sm">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-3xl font-black tracking-tight text-slate-800">FINANCIAL<span class="text-blue-600">MODEL</span></h1>
                    <p class="text-slate-500 font-medium">36-Month SaaS Projection Dashboard</p>
                </div>
                <button onclick="calculateModel()" class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-2xl font-bold transition-all shadow-lg shadow-blue-200">
                    Run Simulation
                </button>
            </div>
        </header>

        <nav class="flex space-x-8 mb-8 border-b border-slate-200">
            <button onclick="showTab('inputs')" id="btn-inputs" class="pb-4 font-bold active-tab transition-all">Assumptions</button>
            <button onclick="showTab('charts')" id="btn-charts" class="pb-4 font-bold text-slate-400 transition-all">Analytics</button>
            <button onclick="showTab('table')" id="btn-table" class="pb-4 font-bold text-slate-400 transition-all">P&L Statement</button>
        </nav>

        <main class="bg-white border border-slate-200 rounded-3xl p-8 shadow-sm">
            
            <section id="tab-inputs" class="tab-content active animate-fade-in">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
                    <div class="space-y-6">
                        <h3 class="text-lg font-bold text-slate-800 flex items-center">ðŸ“ˆ Growth Metrics</h3>
                        <div>
                            <label class="block text-sm font-semibold text-slate-500 mb-2">Starting MRR ($)</label>
                            <input type="number" id="startMrr" value="2000" class="w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-slate-500 mb-2">Monthly Growth Rate (%)</label>
                            <input type="number" id="growthRate" value="15" class="w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none">
                        </div>
                    </div>
                    <div class="space-y-6">
                        <h3 class="text-lg font-bold text-slate-800 flex items-center">ðŸ’¸ Operational Expenses</h3>
                        <div>
                            <label class="block text-sm font-semibold text-slate-500 mb-2">Fixed Monthly Costs ($)</label>
                            <input type="number" id="fixedCosts" value="1500" class="w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-slate-500 mb-2">Tax Rate (%)</label>
                            <input type="number" id="taxRate" value="20" class="w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none">
                        </div>
                    </div>
                </div>
            </section>

            <section id="tab-charts" class="tab-content">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 text-center">
                    <div class="p-6 bg-blue-50 rounded-3xl border border-blue-100">
                        <p class="text-xs font-bold text-blue-600 uppercase mb-1">Year 3 MRR</p>
                        <h2 id="res-mrr" class="text-3xl font-black text-blue-900">$0</h2>
                    </div>
                    <div class="p-6 bg-emerald-50 rounded-3xl border border-emerald-100">
                        <p class="text-xs font-bold text-emerald-600 uppercase mb-1">Net Profit (3Y)</p>
                        <h2 id="res-profit" class="text-3xl font-black text-emerald-900">$0</h2>
                    </div>
                    <div class="p-6 bg-purple-50 rounded-3xl border border-purple-100">
                        <p class="text-xs font-bold text-purple-600 uppercase mb-1">Total Tax Paid</p>
                        <h2 id="res-tax" class="text-3xl font-black text-purple-900">$0</h2>
                    </div>
                </div>
                <div class="w-full h-[400px]">
                    <canvas id="growthChart"></canvas>
                </div>
            </section>

            <section id="tab-table" class="tab-content">
                <div class="overflow-x-auto">
                    <table class="w-full text-left text-sm">
                        <thead>
                            <tr class="text-slate-400 border-b border-slate-100 font-bold">
                                <th class="pb-4 px-2">MONTH</th>
                                <th class="pb-4 px-2">REVENUE</th>
                                <th class="pb-4 px-2">EXPENSES</th>
                                <th class="pb-4 px-2">EBITDA</th>
                                <th class="pb-4 px-2">TAX</th>
                                <th class="pb-4 px-2">NET PROFIT</th>
                            </tr>
                        </thead>
                        <tbody id="pl-table-body" class="divide-y divide-slate-50">
                            </tbody>
                    </table>
                </div>
            </section>

        </main>
    </div>

    <script>
        let myChart = null;

        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('nav button').forEach(b => b.classList.remove('active-tab', 'text-slate-400'));
            
            document.getElementById('tab-' + tabName).classList.add('active');
            document.getElementById('btn-' + tabName).classList.add('active-tab');
            document.querySelectorAll('nav button:not(.active-tab)').forEach(b => b.classList.add('text-slate-400'));
        }

        function calculateModel() {
            const startMrr = parseFloat(document.getElementById('startMrr').value);
            const growth = parseFloat(document.getElementById('growthRate').value) / 100;
            const expenses = parseFloat(document.getElementById('fixedCosts').value);
            const tax = parseFloat(document.getElementById('taxRate').value) / 100;

            let mrrHistory = [];
            let labels = [];
            let tableHtml = '';
            let currentMrr = startMrr;
            let totalProfit = 0;
            let totalTax = 0;

            for (let i = 1; i <= 36; i++) {
                let ebitda = currentMrr - expenses;
                let monthTax = ebitda > 0 ? ebitda * tax : 0;
                let netProfit = ebitda - monthTax;

                totalProfit += netProfit;
                totalTax += monthTax;
                mrrHistory.push(currentMrr.toFixed(0));
                labels.push('M' + i);

                tableHtml += `
                    <tr>
                        <td class="py-4 px-2 font-medium text-slate-400">${i}</td>
                        <td class="py-4 px-2 font-bold text-slate-800">$${currentMrr.toLocaleString(undefined, {maximumFractionDigits:0})}</td>
                        <td class="py-4 px-2 text-red-500">-$${expenses}</td>
                        <td class="py-4 px-2 font-semibold ${ebitda > 0 ? 'text-green-600' : 'text-red-500'}">$${ebitda.toLocaleString()}</td>
                        <td class="py-4 px-2 text-slate-500">$${monthTax.toLocaleString()}</td>
                        <td class="py-4 px-2 font-black text-indigo-600">$${netProfit.toLocaleString()}</td>
                    </tr>
                `;

                currentMrr *= (1 + growth);
            }

            // UI Updates
            document.getElementById('res-mrr').innerText = '$' + currentMrr.toLocaleString(undefined, {maximumFractionDigits:0});
            document.getElementById('res-profit').innerText = '$' + totalProfit.toLocaleString(undefined, {maximumFractionDigits:0});
            document.getElementById('res-tax').innerText = '$' + totalTax.toLocaleString(undefined, {maximumFractionDigits:0});
            document.getElementById('pl-table-body').innerHTML = tableHtml;

            updateChart(labels, mrrHistory);
            showTab('charts');
        }

        function updateChart(labels, data) {
            const ctx = document.getElementById('growthChart').getContext('2d');
            if (myChart) myChart.destroy();
            myChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'MRR Growth Path',
                        data: data,
                        borderColor: '#2563eb',
                        borderWidth: 4,
                        backgroundColor: 'rgba(37, 99, 235, 0.1)',
                        fill: true,
                        tension: 0.4,
                        pointRadius: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        y: { ticks: { callback: v => '$' + v } }
                    }
                }
            });
        }
    </script>
</body>
</html>
